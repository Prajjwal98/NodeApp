div.textfield
    div.field-label(v-if="isshowlabel" v-bind:style="labelstyle")
        span.required-tip(v-if="isrequired") *
        | {{ labeltext }}ï¼š
    div.field-body(v-bind:style="bodystyle")
        template(v-if="vtype === 'file'")
            form(method="post", :action="action" enctype="multipart/form-data")
                input(type="hidden", name="purpose", value="1")
                div.tip {{ displaytext }}
                input.btn-file.form-control(
                    v-if="vtype === 'file'",
                    type="file",
                    :name="name",
                    :readOnly="readonly",
                    @change="doUpload",
                    placeholder="{{ pholder }}"
                )
        template(v-else)
            textarea.form-control(
                v-if="vtype === 'textarea'",
                :rows="rows",
                :name="name",
                :readOnly="readonly",
                placeholder="{{ pholder }}",
                v-model="val | vtrim",
                @input="doKeyUp | debounce 300",
                @change="doChange"
            )
            input.form-control(
                v-else,
                :type="vtype",
                :name="name",
                :readOnly="readonly",
                placeholder="{{ pholder }}",
                v-model="val | vtrim",
                @input="doKeyUp | debounce 300",
                @change="doChange"
            )
        span(v-if="isrequired || regex", v-show="isempty || !validated", class = "error-message") {{ vvalidatetext }}