/*
* 工具类--弹窗
*/

require('./dialog.scss');

var shortTipCache = {};
var Dialog = {
    alert: function(text){
        if(shortTipCache.fn){
            clearTimeout(shortTipCache.ticker);
            shortTipCache.fn();
            shortTipCache.fn = null;
        }
        var $wrap = $('<div class="dialog"></div>');
        $wrap.on('click', function(e){
            $wrap.remove();
        });
        var remove  = function(){
            $wrap.fadeOut("slow",function(){
                $wrap.remove();
                shortTipCache.fn = null;
            });
        };
        shortTipCache.fn = function(){
            $wrap.remove();
        }
        $('<span class="bg img-rounded"></span>').append($.trim(text)).appendTo($wrap);
        $("body").append($wrap);
        shortTipCache.ticker = setTimeout(remove,1500);
    }
}
module.exports = Dialog;