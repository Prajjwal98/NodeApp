/*
* 跟业务相关的util类
*/

var PageUtils = {
    /*
    * 客户列表渲染处理（已禁用的标红处理）
    */
    beforeRowRender: function(data){
        for(var i = 0, len = data.length; i < len; i++){
            if(data[i].status === 0){
                data[i].text += '<span class="text-danger">[已禁用]' + '</span>';
            }
        }
        return data;
    },
    beforeSetText: function(text){
        text = text || '';
        var end = text.indexOf('<span class="text-danger"');
        if(end === -1){
            return text;
        }
        return text.substring(0, end);
    },
    /*
    *团队管理（引导页显示）
    */
    showGuid: function (ele, key, path) {    
        if (ele.length === 0){
            return;
        }
        var hasLoaded = $.cookie(key);
        if (!hasLoaded) {
            ele.removeClass('hide');
        }
        ele.find('img').click(function () {
            ele.remove();
        });
        $.cookie(key, 'true', {
            expires: 999,
            path: '/'
        });
    }
}

module.exports = PageUtils;